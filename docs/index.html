<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>core-recognizer-api: Recognizer API documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">core-recognizer-api
   &#160;<span id="projectnumber">version 3.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Recognizer API documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This documentation gives an overview how to use Recognizer scanning library. Recognizer library is supported on several platforms: Mac OS (x86_64 only, MacOS X 10.11 and newer), Linux (x86 and x86_64, requires GLIBC 2.13 or newer) and Windows (requires Visual C++ 2017 redistributable package (<a href="https://go.microsoft.com/fwlink/?LinkId=746571">x86 download</a>, <a href="https://go.microsoft.com/fwlink/?LinkId=746572">x86_64 download</a>)). This documentation covers the usage of Recognizer API to perform scanning of images and retrieving the scan results. For information about platform specific integration, refer to platform specific README document.</p>
<h1><a class="anchor" id="quickStart"></a>
Quick start</h1>
<p>In order to perform recognition, you first need to initialize a master <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> object. Master <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> object internally contains list of multiple recognizer objects (i.e. recognizers) that are specific for each object scanned. Each recognizer has its own settings object that configures its behaviour. This section only briefly covers the simplest usage. For more elaborate example, see the demo app provided with the library.</p>
<ol type="1">
<li>Initialize the <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure A Recognizer is object which orchestrates image recognition...">RecognizerSettings</a> object and add license key to it <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_settings.html">RecognizerSettings</a>* settings;</div><div class="line"><a class="code" href="struct_recognizer_settings.html#a50554c9f4f525d157ba02d831870e922">recognizerSettingsCreate</a>(&amp;settings);</div><div class="line"><a class="code" href="struct_recognizer_settings.html#a7ee1484cae97fbd79764cb1346f82e73">recognizerSettingsSetLicenseKeyForLicensee</a>(settings, <span class="stringliteral">&quot;add licensee here&quot;</span>, <span class="stringliteral">&quot;add license key here&quot;</span>);</div></div><!-- fragment --> Please note that license key evaluation is done when creating the <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a>, not when inserting it into <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure A Recognizer is object which orchestrates image recognition...">RecognizerSettings</a> object.</li>
<li>Define settings for each recognizer you want to use and add those settings to <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure A Recognizer is object which orchestrates image recognition...">RecognizerSettings</a> object. To see all possible recognizer settings and documentation for them, refer to <a class="el" href="_recognizer_settings_8h.html">RecognizerSettings.h</a> file. For example, to enable PDF417 recognizer, QR code scanning via ZXing recognizer and US Driver's License recognizer, do the following <div class="fragment"><div class="line"><a class="code" href="struct_pdf417_settings.html">Pdf417Settings</a> pdf417Sett;</div><div class="line">pdf417Sett.<a class="code" href="struct_pdf417_settings.html#a37bad9ca476ce18951906f5e0e5f99ef">shouldScanUncertain</a> = 1;</div><div class="line"><a class="code" href="struct_recognizer_settings.html#a13bceb20682ce0485adf503eb2c52a04">recognizerSettingsSetPdf417Settings</a>(settings, &amp;pdf417Sett);</div><div class="line"></div><div class="line"><a class="code" href="struct_z_xing_settings.html">ZXingSettings</a> zxingSett;</div><div class="line">zxingSett.<a class="code" href="struct_z_xing_settings.html#abe1f06b30ab2d4efbb30e1e1fb03ad7d">scanQRCode</a> = 1;</div><div class="line"><a class="code" href="struct_recognizer_settings.html#a0273b7ff02b24cfd4f8e683028dc1687">recognizerSettingsSetZXingSettings</a>(settings, &amp;zxingSett);</div><div class="line"></div><div class="line"><a class="code" href="struct_usdl_settings.html">UsdlSettings</a> usdlSett;</div><div class="line">usdlSett.<a class="code" href="struct_usdl_settings.html#aa4792498e3762d64fbe30d629c8a99a2">useAutoScale</a> = 1;</div><div class="line"><a class="code" href="struct_recognizer_settings.html#a4d69aba22a2dd5d17233aa61bad6a093">recognizerSettingsSetUsdlSettings</a>(settings, &amp;usdlSett);</div></div><!-- fragment --> Please note that some settings might be are disabled by license key. Attempt to create master <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> object with recognizerCreate function will faile in such case. You can disable certain recognizer by setting its settings to NULL. For example, to disable ZXing recognizer do the following: <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_settings.html#a0273b7ff02b24cfd4f8e683028dc1687">recognizerSettingsSetZXingSettings</a>(settings, NULL);</div></div><!-- fragment --></li>
<li>Create the <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> object <div class="fragment"><div class="line"><a class="code" href="struct_recognizer.html">Recognizer</a>* recognizer;</div><div class="line"><a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65">RecognizerErrorStatus</a> status = <a class="code" href="struct_recognizer.html#ae4896ee530e10c786f2e5f2e951e6084">recognizerCreate</a>(&amp;recognizer, settings);</div><div class="line"></div><div class="line"><span class="comment">// Delete settings object (it is not required anymore after Recognizer has been created)</span></div><div class="line"><a class="code" href="struct_recognizer_settings.html#a24d9f7c65fa462e20d18e4174428d76c">recognizerSettingsDelete</a>(&amp;settings);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (status == <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div><div class="line">    <span class="comment">// perform the scan</span></div><div class="line"></div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* statusString = <a class="code" href="_recognizer_error_8h.html#a0e89d23fe2f8e8cd107c30efdeb5e6b7">recognizerErrorToString</a>(status);</div><div class="line">    printf(<span class="stringliteral">&quot;Recognizer create returned status: %s\n&quot;</span>, statusString);</div><div class="line"></div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div></div><!-- fragment --> Creation of <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> might fail. For that reason you should check the status of recognizerCreate method. Most common reason for failure to create <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> is invalid licence key or configuration which is not allowed by a valid licence key.</li>
<li>Perform the scan on the image. Image first needs to be created from from memory. To create image from memory buffer use recognizerImageCreateFromRawImage. <div class="fragment"><div class="line"><span class="keywordtype">int</span> image_width, image_height, image_stride;</div><div class="line"><span class="keywordtype">void</span>* image_buffer;</div><div class="line"></div><div class="line"><span class="comment">// populate above variables (i.e. by loading image file or capturing image with camera)</span></div><div class="line"></div><div class="line"><a class="code" href="struct_recognizer_image.html">RecognizerImage</a>* img;</div><div class="line"><a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65">RecognizerErrorStatus</a> status = <a class="code" href="struct_recognizer_image.html#aa1a166a5df6cad59f2508f23cdace22d">recognizerImageCreateFromRawImage</a>(&amp;img, image_buffer, image_width, image_height, image_stride, <a class="code" href="_recognizer_image_8h.html#a993c533680723b17ad917d9002a5fb5ba1b5cb43195e567b45f877bf4509650b7">RAW_IMAGE_TYPE_BGR</a>);</div><div class="line"><span class="keywordflow">if</span> (status != <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div><div class="line">    printf(<span class="stringliteral">&quot;Failed to create image. Reason: %s&quot;</span>, <a class="code" href="_recognizer_error_8h.html#a0e89d23fe2f8e8cd107c30efdeb5e6b7">recognizerErrorToString</a>(status));</div><div class="line">}</div></div><!-- fragment --></li>
<li>Once you have created an image, you can perform recognition using method recognizerRecognizeFromImage. <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_result_list.html">RecognizerResultList</a> resultList;</div><div class="line"><a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65">RecognizerErrorStatus</a> status = <a class="code" href="struct_recognizer.html#adaecf6b9991d9f0bcb12250c58c089e7">recognizerRecognizeFromImage</a>(recognizer, &amp;resultList, img, 0, NULL);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (status != <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div><div class="line">    printf(<span class="stringliteral">&quot;Recognizer error %s&quot;</span>, <a class="code" href="_recognizer_error_8h.html#a0e89d23fe2f8e8cd107c30efdeb5e6b7">recognizerErrorToString</a>(status));</div><div class="line">}</div></div><!-- fragment --> The output of recognition methods is list of recognition results. List can contain one or more recognition results, depending on the setting defined with method recognizerSettingsSetOutputMultipleResults of <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure A Recognizer is object which orchestrates image recognition...">RecognizerSettings</a> object.</li>
<li>Iterate over list of recognition results and obtain information from each recognition result. Note that methods for information retrieval may depend on the type of the recognition result. For all available information retrieval methods and information about when certain method is applicable, see the complete reference for <a class="el" href="struct_recognizer_result.html" title="RecognizerResult data structure. Holds the results of the recognition. ">RecognizerResult</a> data structure. The following example iterates over all elements in recognition result list and checks if <a class="el" href="struct_recognizer_result.html" title="RecognizerResult data structure. Holds the results of the recognition. ">RecognizerResult</a> is generated by US Driver's License recognizer. If yes and result is valid, output driver's first and last name. If <a class="el" href="struct_recognizer_result.html" title="RecognizerResult data structure. Holds the results of the recognition. ">RecognizerResult</a> is not generated by US Driver's License recognizer, assume it was generated by any barcode recognizer (<a class="el" href="struct_pdf417_settings.html">Pdf417</a>, <a class="el" href="struct_z_xing_settings.html">ZXing</a> or <a class="el" href="struct_bar_decoder_settings.html">BarDecoder</a>, also see <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure A Recognizer is object which orchestrates image recognition...">RecognizerSettings</a>) and output barcode type and barcode string contents. <div class="fragment"><div class="line"><span class="keywordflow">for</span>(i = 0; i&lt; resultList.<a class="code" href="struct_recognizer_result_list.html#a5b119cd6a6341ca741eb47206d2858c1">resultsCount</a>; ++i) {</div><div class="line">    <a class="code" href="struct_recognizer_result.html">RecognizerResult</a>* result = resultList.<a class="code" href="struct_recognizer_result_list.html#acc8549f2f0f5b7d4694ccbfcfbd087ed">results</a>[ i ];</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( <a class="code" href="struct_recognizer_result.html#a694fc9e52108841a4f9cd44fb490542c">recognizerResultIsUSDLResult</a>( result ) ) {</div><div class="line">        <span class="keywordflow">if</span>( <a class="code" href="struct_recognizer_result.html#a74cf9dd99bb05d7917456ce9a840e89f">recognizerResultIsResultValid</a>( result ) ) {</div><div class="line">            <span class="keyword">const</span> <span class="keywordtype">char</span>* firstName;</div><div class="line">            <span class="keyword">const</span> <span class="keywordtype">char</span>* lastName;</div><div class="line">            <a class="code" href="struct_recognizer_result.html#a0d4ce4404519b01e94684bcbe6fe1be6">recognizerResultGetUSDLField</a>(result, &amp;firstName, <a class="code" href="_u_s_d_l_result_8h.html#a484d241b6789d08b999983bbc9aa500c">USDLFieldKeys</a>.<a class="code" href="struct_u_s_d_l_field_keys_type.html#a2a9d4c8854e596a5d11c3802dd9d36c4">kCustomerFirstName</a>);</div><div class="line">            <a class="code" href="struct_recognizer_result.html#a0d4ce4404519b01e94684bcbe6fe1be6">recognizerResultGetUSDLField</a>(result, &amp;lastName, <a class="code" href="_u_s_d_l_result_8h.html#a484d241b6789d08b999983bbc9aa500c">USDLFieldKeys</a>.<a class="code" href="struct_u_s_d_l_field_keys_type.html#a6d7be42a6bde094956d15e6c113f8109">kCustomerFamilyName</a>);</div><div class="line"></div><div class="line">            printf(<span class="stringliteral">&quot;Driver&#39;s license belongs to %s %s\n&quot;</span>, firstName, lastName);</div><div class="line">        } <span class="keywordflow">else</span> {</div><div class="line">            printf(<span class="stringliteral">&quot;Invalid driver license result!\n&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        <a class="code" href="struct_barcode_result.html">BarcodeResult</a> barcodeResult;</div><div class="line"></div><div class="line">        status = <a class="code" href="struct_recognizer_result.html#a16b0da871853364029591f2759ed193a">recognizerResultGetBarcodeResult</a>(result, &amp;barcodeResult);</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (status != <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div><div class="line">            printf(<span class="stringliteral">&quot;Error obtaining barcode result: %s\n&quot;</span>, <a class="code" href="_recognizer_error_8h.html#a0e89d23fe2f8e8cd107c30efdeb5e6b7">recognizerErrorToString</a>(status));</div><div class="line">            <span class="keywordflow">return</span> -1;</div><div class="line">        }</div><div class="line"></div><div class="line">        printf(<span class="stringliteral">&quot;%s Result: %s\n&quot;</span>, <a class="code" href="_barcode_result_8h.html#acd924c2c6d144d761453d17cb28b8134">barcodeTypeToString</a>(barcodeResult.<a class="code" href="struct_barcode_result.html#a3d451061743967766d6e2b609bb7e8c5">barcodeType</a>), barcodeResult.<a class="code" href="struct_barcode_result.html#a20486560bbe26de28849e625c230336f">stringData</a>);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
<li>Finally, when done, clean the memory. Each structure has method for releasing it. <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_image.html#ad495b4d3ee4b9d7cc052bc33626e1eef">recognizerImageDelete</a>(&amp;img);</div><div class="line"><a class="code" href="struct_recognizer_result_list.html#a82c7bdea4c94fae838e7f8bbeaf17a22">recognizerResultListDelete</a>(&amp;resultList);</div><div class="line"><a class="code" href="struct_recognizer.html#af659e3fe8df14a080672c0c9d3051cd8">recognizerDelete</a>(&amp;recognizer);</div></div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="demo"></a>
Demo application</h1>
<p>Each platform contains its own demo application specific for that platform. Refer to its source code and documentation for more information.</p>
<h1><a class="anchor" id="info"></a>
Additional info</h1>
<p>For any inquiries, additional information or instructions please contact us at <a href="http://help.microblink.com">help.microblink.com</a>. When contacting, please state which product and which platform you are using so we can help you more quickly. Also, please state that you are using core components RecognizerAPI and state the version you are using. You can obtain the library version with function <a class="el" href="_recognizer_8h.html#a36eabd995def63f5de0846eac464cdc6" title="Returns the library version string. ">recognizerGetVersionString</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
